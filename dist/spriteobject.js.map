{"version":3,"sources":["../spriteobject.js"],"names":["define","THREE","ObjectPool","SpriteObject","position","Vector3","size","Float32Array","fill","quaternionArray","initSpriteObject","spriteObject","x","y","z","width","height","light","img","hasQuaternionArray","prototype","offset","visible","objectPool","create","clear","recycleAll"],"mappings":";;AAAAA,OAAO,CACH,SADG,EAEH,YAFG,CAAP,EAGG,UAASC,KAAT,EAAgBC,UAAhB,EAA4B;AAC3B;;AAEA,aAASC,YAAT,GAAwB;AACpB,aAAKC,QAAL,GAAgB,IAAIH,MAAMI,OAAV,EAAhB;AACA,aAAKC,IAAL,GAAY,IAAIC,YAAJ,CAAiB,CAAjB,EAAoBC,IAApB,CAAyB,CAAzB,CAAZ;AACA,aAAKF,IAAL,CAAU,CAAV,IAAe,CAAf;AACA,aAAKG,eAAL,GAAuB,IAAIF,YAAJ,CAAiB,CAAjB,EAAoBC,IAApB,CAAyB,CAAzB,CAAvB;AACH;;AAED,aAASE,gBAAT,CAA0BC,YAA1B,EACEC,CADF,EACIC,CADJ,EACMC,CADN,EAEEC,KAFF,EAESC,MAFT,EAGEP,eAHF,EAGmBQ,KAHnB,EAG0BC,GAH1B,EAG+B;AAC3BP,qBAAaP,QAAb,CAAsBQ,CAAtB,GAA0BA,CAA1B;AACAD,qBAAaP,QAAb,CAAsBS,CAAtB,GAA0BA,CAA1B;AACAF,qBAAaP,QAAb,CAAsBU,CAAtB,GAA0BA,CAA1B;AACAH,qBAAaL,IAAb,CAAkB,CAAlB,IAAuBS,KAAvB;AACAJ,qBAAaL,IAAb,CAAkB,CAAlB,IAAuBU,MAAvB;AACAL,qBAAaQ,kBAAb,GAAkCV,oBAAoB,IAAtD;AACA,YAAGE,aAAaQ,kBAAhB,EAAoC;AAChCR,yBAAaF,eAAb,CAA6B,CAA7B,IAAkCA,gBAAgB,CAAhB,CAAlC;AACAE,yBAAaF,eAAb,CAA6B,CAA7B,IAAkCA,gBAAgB,CAAhB,CAAlC;AACAE,yBAAaF,eAAb,CAA6B,CAA7B,IAAkCA,gBAAgB,CAAhB,CAAlC;AACAE,yBAAaF,eAAb,CAA6B,CAA7B,IAAkCA,gBAAgB,CAAhB,CAAlC;AACH;AACDE,qBAAaM,KAAb,GAAqBA,KAArB;AACAN,qBAAaO,GAAb,GAAmBA,GAAnB;AACH;;AAEDf,iBAAaiB,SAAb,CAAuBhB,QAAvB,GAAkC,IAAlC;AACAD,iBAAaiB,SAAb,CAAuBd,IAAvB,GAA8B,IAA9B;AACAH,iBAAaiB,SAAb,CAAuBD,kBAAvB,GAA4C,KAA5C;AACAhB,iBAAaiB,SAAb,CAAuBX,eAAvB,GAAyC,IAAzC;AACAN,iBAAaiB,SAAb,CAAuBH,KAAvB,GAA+B,CAA/B;AACAd,iBAAaiB,SAAb,CAAuBF,GAAvB,GAA6B,CAAC,CAA9B;AACAf,iBAAaiB,SAAb,CAAuBC,MAAvB,GAAgC,IAAhC;AACAlB,iBAAaiB,SAAb,CAAuBE,OAAvB,GAAiC,IAAjC;;AAEA,QAAMC,aAAa,IAAIrB,UAAJ,CAAeC,YAAf,CAAnB;;AAEAA,iBAAaqB,MAAb,GAAsB,UAClBZ,CADkB,EAChBC,CADgB,EACdC,CADc,EACZC,KADY,EACNC,MADM,EACCP,eADD,EACiBQ,KADjB,EACwBC,GADxB,EAEpB;AACE,YAAMP,eAAeY,WAAWC,MAAX,EAArB;AACAd,yBAAiBC,YAAjB,EAA+BC,CAA/B,EAAiCC,CAAjC,EAAmCC,CAAnC,EAAqCC,KAArC,EAA2CC,MAA3C,EAAkDP,eAAlD,EAAkEQ,KAAlE,EAAyEC,GAAzE;AACA,eAAOP,YAAP;AACH,KAND;;AAQAR,iBAAasB,KAAb,GAAqB,YAAW;AAC5BF,mBAAWG,UAAX;AACH,KAFD;;AAIA,WAAOvB,YAAP;AACH,CAzDD","file":"spriteobject.js","sourcesContent":["define([\n    'threejs',\n    'objectpool',\n], function(THREE, ObjectPool) {\n    'use strict';\n\n    function SpriteObject() {\n        this.position = new THREE.Vector3();\n        this.size = new Float32Array(3).fill(0);\n        this.size[2] = 1;\n        this.quaternionArray = new Float32Array(4).fill(0);\n    }\n\n    function initSpriteObject(spriteObject,\n      x,y,z,\n      width, height,\n      quaternionArray, light, img) {\n        spriteObject.position.x = x;\n        spriteObject.position.y = y;\n        spriteObject.position.z = z;\n        spriteObject.size[0] = width;\n        spriteObject.size[1] = height;\n        spriteObject.hasQuaternionArray = quaternionArray !== null;\n        if(spriteObject.hasQuaternionArray) {\n            spriteObject.quaternionArray[0] = quaternionArray[0];\n            spriteObject.quaternionArray[1] = quaternionArray[1];\n            spriteObject.quaternionArray[2] = quaternionArray[2];\n            spriteObject.quaternionArray[3] = quaternionArray[3];\n        }\n        spriteObject.light = light;\n        spriteObject.img = img;\n    }\n\n    SpriteObject.prototype.position = null;\n    SpriteObject.prototype.size = null;\n    SpriteObject.prototype.hasQuaternionArray = false;\n    SpriteObject.prototype.quaternionArray = null;\n    SpriteObject.prototype.light = 1;\n    SpriteObject.prototype.img = -1;\n    SpriteObject.prototype.offset = null;\n    SpriteObject.prototype.visible = true;\n\n    const objectPool = new ObjectPool(SpriteObject);\n\n    SpriteObject.create = function(\n        x,y,z,width,height,quaternionArray,light, img\n    ) {\n        const spriteObject = objectPool.create();\n        initSpriteObject(spriteObject, x,y,z,width,height,quaternionArray,light, img);\n        return spriteObject;\n    };\n\n    SpriteObject.clear = function() {\n        objectPool.recycleAll();\n    };\n\n    return SpriteObject;\n});\n"]}
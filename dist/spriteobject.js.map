{"version":3,"sources":["../spriteobject.js"],"names":["define","THREE","ObjectPool","SpriteObject","position","Vector3","size","Float32Array","fill","quaternionArray","initSpriteObject","spriteObject","x","y","z","width","height","img","light","wave","hasQuaternionArray","prototype","offset","visible","objectPool","create","clear","recycleAll"],"mappings":";;AAAAA,OAAO,CACH,SADG,EAEH,YAFG,CAAP,EAGG,UAASC,KAAT,EAAgBC,UAAhB,EAA4B;AAC3B;;AAEA,aAASC,YAAT,GAAwB;AACpB,aAAKC,QAAL,GAAgB,IAAIH,MAAMI,OAAV,EAAhB;AACA,aAAKC,IAAL,GAAY,IAAIC,YAAJ,CAAiB,CAAjB,EAAoBC,IAApB,CAAyB,CAAzB,CAAZ;AACA,aAAKF,IAAL,CAAU,CAAV,IAAe,CAAf;AACA,aAAKG,eAAL,GAAuB,IAAIF,YAAJ,CAAiB,CAAjB,EAAoBC,IAApB,CAAyB,CAAzB,CAAvB;AACH;;AAED,aAASE,gBAAT,CAA0BC,YAA1B,EACEC,CADF,EACIC,CADJ,EACMC,CADN,EAEEC,KAFF,EAESC,MAFT,EAGEP,eAHF,EAGmBQ,GAHnB,EAGwBC,KAHxB,EAG+BC,IAH/B,EAGqC;AACjCR,qBAAaP,QAAb,CAAsBQ,CAAtB,GAA0BA,CAA1B;AACAD,qBAAaP,QAAb,CAAsBS,CAAtB,GAA0BA,CAA1B;AACAF,qBAAaP,QAAb,CAAsBU,CAAtB,GAA0BA,CAA1B;AACAH,qBAAaL,IAAb,CAAkB,CAAlB,IAAuBS,KAAvB;AACAJ,qBAAaL,IAAb,CAAkB,CAAlB,IAAuBU,MAAvB;AACAL,qBAAaS,kBAAb,GAAkCX,oBAAoB,IAAtD;AACA,YAAGE,aAAaS,kBAAhB,EAAoC;AAChCT,yBAAaF,eAAb,CAA6B,CAA7B,IAAkCA,gBAAgB,CAAhB,CAAlC;AACAE,yBAAaF,eAAb,CAA6B,CAA7B,IAAkCA,gBAAgB,CAAhB,CAAlC;AACAE,yBAAaF,eAAb,CAA6B,CAA7B,IAAkCA,gBAAgB,CAAhB,CAAlC;AACAE,yBAAaF,eAAb,CAA6B,CAA7B,IAAkCA,gBAAgB,CAAhB,CAAlC;AACH;AACDE,qBAAaM,GAAb,GAAmBA,GAAnB;AACAN,qBAAaO,KAAb,GAAqBA,KAArB;AACAP,qBAAaQ,IAAb,GAAoBA,IAApB;AACH;;AAEDhB,iBAAakB,SAAb,CAAuBjB,QAAvB,GAAkC,IAAlC;AACAD,iBAAakB,SAAb,CAAuBf,IAAvB,GAA8B,IAA9B;AACAH,iBAAakB,SAAb,CAAuBD,kBAAvB,GAA4C,KAA5C;AACAjB,iBAAakB,SAAb,CAAuBZ,eAAvB,GAAyC,IAAzC;AACAN,iBAAakB,SAAb,CAAuBH,KAAvB,GAA+B,CAA/B;AACAf,iBAAakB,SAAb,CAAuBF,IAAvB,GAA8B,CAA9B;AACAhB,iBAAakB,SAAb,CAAuBJ,GAAvB,GAA6B,CAAC,CAA9B;AACAd,iBAAakB,SAAb,CAAuBC,MAAvB,GAAgC,IAAhC;AACAnB,iBAAakB,SAAb,CAAuBE,OAAvB,GAAiC,IAAjC;;AAEA,QAAMC,aAAa,IAAItB,UAAJ,CAAeC,YAAf,CAAnB;;AAEAA,iBAAasB,MAAb,GAAsB,UAClBb,CADkB,EAChBC,CADgB,EACdC,CADc,EACZC,KADY,EACNC,MADM,EACCP,eADD,EACiBQ,GADjB,EACqBC,KADrB,EAC2BC,IAD3B,EAEpB;AACE,YAAMR,eAAea,WAAWC,MAAX,EAArB;AACAf,yBAAiBC,YAAjB,EAA+BC,CAA/B,EAAiCC,CAAjC,EAAmCC,CAAnC,EAAqCC,KAArC,EAA2CC,MAA3C,EAAkDP,eAAlD,EAAkEQ,GAAlE,EAAsEC,KAAtE,EAA4EC,IAA5E;AACA,eAAOR,YAAP;AACH,KAND;;AAQAR,iBAAauB,KAAb,GAAqB,YAAW;AAC5BF,mBAAWG,UAAX;AACH,KAFD;;AAIA,WAAOxB,YAAP;AACH,CA3DD","file":"spriteobject.js","sourcesContent":["define([\n    'threejs',\n    'objectpool',\n], function(THREE, ObjectPool) {\n    'use strict';\n\n    function SpriteObject() {\n        this.position = new THREE.Vector3();\n        this.size = new Float32Array(3).fill(0);\n        this.size[2] = 1;\n        this.quaternionArray = new Float32Array(4).fill(0);\n    }\n\n    function initSpriteObject(spriteObject,\n      x,y,z,\n      width, height,\n      quaternionArray, img, light, wave) {\n        spriteObject.position.x = x;\n        spriteObject.position.y = y;\n        spriteObject.position.z = z;\n        spriteObject.size[0] = width;\n        spriteObject.size[1] = height;\n        spriteObject.hasQuaternionArray = quaternionArray !== null;\n        if(spriteObject.hasQuaternionArray) {\n            spriteObject.quaternionArray[0] = quaternionArray[0];\n            spriteObject.quaternionArray[1] = quaternionArray[1];\n            spriteObject.quaternionArray[2] = quaternionArray[2];\n            spriteObject.quaternionArray[3] = quaternionArray[3];\n        }\n        spriteObject.img = img;\n        spriteObject.light = light;\n        spriteObject.wave = wave;\n    }\n\n    SpriteObject.prototype.position = null;\n    SpriteObject.prototype.size = null;\n    SpriteObject.prototype.hasQuaternionArray = false;\n    SpriteObject.prototype.quaternionArray = null;\n    SpriteObject.prototype.light = 1;\n    SpriteObject.prototype.wave = 0;\n    SpriteObject.prototype.img = -1;\n    SpriteObject.prototype.offset = null;\n    SpriteObject.prototype.visible = true;\n\n    const objectPool = new ObjectPool(SpriteObject);\n\n    SpriteObject.create = function(\n        x,y,z,width,height,quaternionArray,img,light,wave\n    ) {\n        const spriteObject = objectPool.create();\n        initSpriteObject(spriteObject, x,y,z,width,height,quaternionArray,img,light,wave);\n        return spriteObject;\n    };\n\n    SpriteObject.clear = function() {\n        objectPool.recycleAll();\n    };\n\n    return SpriteObject;\n});\n"]}